class a{constructor(e,i,s,h,n,l,c,o,r,f){this._el=e,this.width=i,this.height=s,this.top=h,this.right=n,this.bottom=l,this.left=c,this.centerX=o,this.centerY=r,this.isLink=f}}class w{constructor(e,i,s,h,n,l,c,o,r){this._el=e,this.width=i,this.height=s,this.top=h,this.right=n,this.bottom=l,this.left=c,this.direction=o,this.style=r}}const d=(t,e,i)=>{if(t.classList.add("safe-triangle__svg","svg--keep-colors"),t.setAttribute("fill","none"),t.style.pointerEvents="none",i.direction==="right"){const s=e.bottom>i.bottom?e.bottom-i.top:i.height;t.setAttribute("viewBox","0 0 "+(i.left-e.left)+" "+s),t.style.height=s+"px",t.style.width=i.left-e.left+"px";const h=e.top>=i.top?(e.top-i.top)*-1:e.top;t.style.top=h+"px",t.style.left="0px"}else t.setAttribute("viewBox","0 0 "+i.width+" "+e.height),t.style.height=e.height+"px",t.style.width=i.width+"px",t.style.top="0px",t.style.left=i.left-e.left+"px"},b=(t,e,i,s,h,n)=>{if(t.classList.add("safe-triangle__path"),n?(t.setAttribute("fill","rgb(0 256 0 / 0.1)"),t.setAttribute("stroke","green"),t.setAttribute("strokeWidth","0.5")):t.setAttribute("fill","transparent"),t.style.pointerEvents="auto",e.isLink&&t.classList.add("safe-triangle__path--has-link"),i.direction==="right"){const l=i.left-e.left,c=e.bottom>i.bottom?e.bottom-i.top:i.height;t.setAttribute("d","M "+(s-e.left)+" "+(h-i.top)+" L "+l+" 0 L "+l+" "+c+" z")}else t.setAttribute("d","M "+(s-i.left)+" "+(h-e.top)+" L "+i.width+" "+e.height+" L 0 "+e.height+" z")},y=t=>{let e=t.getBoundingClientRect();return new a(t,e.width,e.height,e.top,e.right,e.bottom,e.left,e.width/2,e.height/2,t.hasAttribute("href"))},p=(t,e)=>{let i="";t.hasAttribute("style")&&(i=t.getAttribute("style")),t.style.display="block";let s=t.getBoundingClientRect();return t.setAttribute("style",i),new w(t,s.width,s.height,s.top,s.right,s.bottom,s.left,e,i)},A=(t,e)=>{e={...{delay:100,debug:!1},...e};let s=document.querySelectorAll(".safe-triangle__item--js");typeof t=="string"||t instanceof String?s=document.querySelectorAll(t.toString()):NodeList.prototype.isPrototypeOf(t)&&(s=t),s.forEach(h=>{const n=h.dataset.safeTriangleDropdown;if(n!=""){const l=document.querySelector('div[data-safe-triangle-dropdown="'+n+'"]');if(l){const c=h.dataset.safeTriangleDirection??"down";let o=p(l,c);h.classList.add("safe-triangle__item","safe-triangle__item--js");let r=y(h);e.debug&&h.classList.add("safe-triangle__item--debug");const f=document.createElementNS("http://www.w3.org/2000/svg","svg");d(f,r,o);const g=document.createElementNS("http://www.w3.org/2000/svg","path");c=="right"?b(g,r,o,0,0,e.debug):b(g,r,o,r.centerX,r.centerY,e.debug),f.appendChild(g),h.appendChild(f),h.addEventListener("mouseenter",u=>{r=y(h),o=p(l,c),d(f,r,o)}),h.addEventListener("mousemove",u=>{const _=u.clientX,L=u.clientY;setTimeout(()=>{b(g,r,o,_,L,e.debug)},e.delay)}),window.addEventListener("resize",()=>{o=p(l,c),r=y(h),d(f,r,o)})}}})};let S=document.querySelectorAll(".nav-safe-triangles-debug--js"),x=document.querySelectorAll(".nav-safe-triangles--js");A(S,{debug:!0});A(x);
